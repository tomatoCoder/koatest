<!--
 * @Description: 
 * @Author: qingyang
 * @Date: 2021-05-06 16:13:30
 * @LastEditors: qingyang
 * @LastEditTime: 2021-05-07 18:04:20
-->
<!doctype html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>bce-bos-uploader simple demo</title>
    <!--[if lt IE 8]><script src="http://websdk.cdn.bcebos.com/bos/json3/lib/json3.min.js"></script><![endif]-->
    <!--[if lt IE 9]><script src="http://websdk.cdn.bcebos.com/bos/js-polyfills/es5.js"></script><![endif]-->
    <!--[if lt IE 10]><script src="http://websdk.cdn.bcebos.com/bos/moxie/bin/js/moxie.js"></script><![endif]-->
    <!-- BOS不提供jquery.min.js，开发者可以自行引入在线资源或本地资源 -->
    <script src="/static/js/jquery.min.js"></script>
    <!-- 引入bce-bos-uploader.bundle.js，建议通过npm安装成功后，引入本地资源 -->
    <script src="/static/js/bce-bos-uploader.bundle.js"></script>
  </head>
  <body>
    <input type="file" id="file" >
    <button type="submit">开始上传123</button>
    <script>
      var uploader = new baidubce.bos.Uploader({
      browse_button: '#file',
      bos_bucket: 'liu-test',
      bos_endpoint: 'http://su.bcebos.com/',
      bos_ak: '2f9546a5af1811eb96b4cdfc6054c8', 
      bos_sk: 'c0d6cd72f78447a6a33145ae9cfaf2',
      uptoken: 'ZjkyZmQ2YmQxZTQ3NDcyNjk0ZTg1ZjYyYjlkZjNjODB8AAAAAIACAAAD+SFnZT6+kckPaY6fLesOvXyDdvHPzHLEWixdmMzCleY246+KTQg/HnZ48pBDzwfcfj6M1vpAllQBWzJkY7kafhX2+rHd4Ex1hpaHHmgW5WlP6mFBxWRrcjDC/JsO7FeaUEYtjpCDmtaDkr4gy2FD82XAoBge0BnPajT1CBMr0cD6GF07edsVS+iAlC4xukwn+xTBnixZ7xLhXcYrNLlpxaVpJJfOEEuRTSp/xc7F/yws+cA4D5SaaoO1Yn5MYv7axDDpFJWRwkg42fTlqn0L7xY1zxyMRwKJOd1bajYR3b3RJ9dv+vJlaqQgchyGjmqlpRkl4osvevqHEbzae5wE6W3AAmmDaFP4oceGAFqs7uRw7U/ex4hjUbDY3CaDczIPgE6Q56jHZVHhBSf1w4S1TfvAk5LsyLMsnrSP6XnV8Nd5gGHHyVzopDO8ytwHlsfjhXJy60auNA20EoXniS0d',
      max_file_size: '1Gb',
      init: {
        FileUploaded: function (_, file, info) {
            debugger
          var bucket = info.body.bucket;
          var object = info.body.object;
          var url = 'http://su.bcebos.com/' + bucket + '/' + object;
          $(document.body).append($('<div><a href="' + url + '">' + url + '</a></div>'));
        },
        UploadComplete: function() {
          $(document.body).append('<div>上传over！</div>');
        }
      }
    });
     $('button[type=submit]').click(function () {
      uploader.start();
      return false;
    });

    </script>
  </body>
</html>